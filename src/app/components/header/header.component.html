<span class="section">
  @if (ds.selectedService) {
    <span class="mdc-button mat-mdc-button-base">{{ds.serviceInfo?.id}} ({{ds.serviceInfo?.type}} version {{ds.serviceInfo?.version}})</span>
  }
</span>

<span class="section">
  <a mat-button href="/start" [disabled]="currentRoute === 'start'">Services</a>
  @if (ds.selectedService && (currentRoute !== 'start')) {
    <a mat-button href="/tasks" [disabled]="currentRoute === 'tasks'">Tasks</a>
    <a mat-button href="/coders" [disabled]="currentRoute === 'coders'">Coders</a>
  }
</span>

@if (ds.selectedService && (currentRoute === 'task') && ds.task) {
  <span class="section">
    <span class="mdc-button mat-mdc-button-base">Task: {{ds.task.label || ds.task.id}} - {{ds.task | status}}</span>
    @if (ds.task | taskIsReady) {
      <button mat-button (click)="commit()">Commit{{ds.status !== 'create' ? ' again' : ''}}</button>
    }
    @if ((ds.status !== 'start')) {
      <button mat-button (click)="delete()">Delete</button>
    }
  </span>
}

@if (ds.currentChunk) {
  <span class="section">
     <span class="mdc-button mat-mdc-button-base">{{ds.currentChunk.type}} data: {{ds.currentChunk.id.substring(0, 4)}}â€¦</span>
      <button mat-button (click)="download('csv')">Download CSV</button>
      <button mat-button (click)="download('json')">Download JSON</button>
      <button mat-button (click)="deleteChunk()">Delete</button>
  </span>
}

@if (ds.selectedService && (currentRoute === 'tasks')) {
  <span class="section">
    <span class="mdc-button mat-mdc-button-base">New Task:</span>
    <button mat-button (click)="addTask('train')">Train</button>
    <button mat-button (click)="addTask('code')">Code</button>
  </span>
}
