<div id="config">
  @if (ds.serviceInfo) {
    <p>Format: {{ds.serviceInfo.instructionsSchema.$id}}</p>
    <form [formGroup]="form" (ngSubmit)="submit()" *ngIf="fields">
      <formly-form [model]="" [fields]="fields" [options]="options" [form]="form"></formly-form>
      <button type="submit" mat-raised-button class="btn btn-primary">Submit</button>
    </form>

    <p>Status: {{form.valid ? 'Valid' : 'Invalid'}}</p>

    <ul>
      @for (e of errors; track $index) {
        <li>{{e | json}}</li>
      }
    </ul>
  }
</div>
